/*!
 *
 *
 * - Neil Carpenter V1
 * - about-contact-workhome.js
 * - author: Neil Carpenter (@neilcarpenter)
 * - for development code, remove '.min' from URL
 *
 *
 */var i;$.extend($.easing,{easeInQuad:function(e,t,n,r,i){return r*(t/=i)*t+n},easeInOutQuad:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t+n:-r/2*(--t*(t-2)-1)+n},easeInQuint:function(e,t,n,r,i){return r*(t/=i)*t*t*t*t+n},easeInOutQuint:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t*t*t*t+n:r/2*((t-=2)*t*t*t*t+2)+n},easeInOutBack:function(e,t,n,r,i,s){s==undefined&&(s=1.70158);return(t/=i/2)<1?r/2*t*t*(((s*=1.525)+1)*t-s)+n:r/2*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)+n}});(function(e){var t=e.event,n,r;n=t.special.debouncedresize={setup:function(){e(this).on("resize",n.handler)},teardown:function(){e(this).off("resize",n.handler)},handler:function(e,i){var s=this,o=arguments,u=function(){e.type="debouncedresize";t.dispatch.apply(s,o)};r&&clearTimeout(r);i?u():r=setTimeout(u,n.threshold)},threshold:150}})(jQuery);var widthTester,scrollDisplayMenu;$(function(){widthTester=$(window).width();var e=$("#logo a"),t=$("#main-nav ul li:nth-child(1) a"),n=$("#main-nav ul li:nth-child(2) a"),r=$("#main-nav ul li:nth-child(3) a"),i=$("#main-nav ul li:nth-child(4) a"),s=$("#main-nav ul li:nth-child(5) a");$("#container").prepend('<div id="loading"><span class="outer"><span class="inner"></span></span>&nbsp;Loading<div class="loading-slow">Seems to be taking ages to load... Click <a href="#" id="refresh">here</a> to refresh the page and try again, or <a href="#" id="show-content">here</a> to show what has loaded so far.</div></div>');setTimeout(function(){$(".loading-slow").fadeIn(500)},5e3);$("#refresh").click(function(){location.reload();return!1});$("#show-content").click(function(){$("#loading").fadeOut(500,function(){$(this).remove();$(".pattern").removeClass("pattern-closed");$(window).width()>768?setTimeout(function(){$("#content").removeClass("loading")},550):$("#content").removeClass("loading")});return!1});$("#logo").append("<span></span>");$("#main-nav ul li").append("<span></span>");$("body").prepend('<span id="header-bg"></span>');scrollDisplayMenu=function(){var o=$(window).width(),u=$(document).scrollTop(),a=$("#header-bg"),f=$("header");if(u>=100&&!f.hasClass("fixed")&&o>1024){a.addClass("open");f.addClass("fixed");e.html("N");t.text("a");n.text("w");r.text("l");i.text("b");s.text("c");setTimeout(function(){f.addClass("fixed-after-anim")},300)}else if(u<=100&&f.hasClass("fixed")||o<1025){a.removeClass("open");f.removeClass("fixed-after-anim").removeClass("fixed");e.html("Neil<br/>Carpenter");t.text("About");n.text("Work");r.text("Labs");i.text("Blog");s.html("Contact")}};$(window).bind("scroll",function(){scrollDisplayMenu()});$("#back-to-top").click(function(){$("body,html").animate({scrollTop:0},1e3,"easeInOutQuint");return!1});$(".double-hover").hover(function(){$(this).parent().find(".double-hover").addClass("mouseenter")},function(){$(this).parent().find(".double-hover").removeClass("mouseenter")});$("#expanded-footer").hide();$("#toggle-footer").click(function(e){e.preventDefault();var t=$(window).width(),n;t>768?n=$(document).height():n=$(document).height()-100;var r='<iframe allowtransparency="true" frameborder="0" scrolling="no" src="//platform.twitter.com/widgets/follow_button.html?screen_name=NeilCarpenter&show_count=false" style="width: 150px; height:20px;"></iframe>',i=$("#toggle-footer span");if($(this).hasClass("footer-open")){$(this).removeClass("footer-open");$(this).addClass("follow-button-loaded");$("#expanded-footer").slideUp(500,"easeInOutQuint")}else{$(this).addClass("footer-open");$("#expanded-footer").slideDown(500,"easeInOutQuint");$("html, body").animate({scrollTop:n},500,"easeInOutQuint");$(this).hasClass("follow-button-loaded")||$(".follow-button").html(r)}});$(".nav-control a").click(function(){$html=$("html");$html.hasClass("nav-open")?$html.removeClass("nav-open"):$html.addClass("nav-open");return!1})});(function(e){function t(e,t,n,r){if("addEventListener"in e)try{e.addEventListener(t,n,r)}catch(i){if(typeof n!="object"||!n.handleEvent)throw i;e.addEventListener(t,function(e){n.handleEvent.call(n,e)},r)}else"attachEvent"in e&&(typeof n=="object"&&n.handleEvent?e.attachEvent("on"+t,function(){n.handleEvent.call(n)}):e.attachEvent("on"+t,n))}function n(e,t,n,r){if("removeEventListener"in e)try{e.removeEventListener(t,n,r)}catch(i){if(typeof n!="object"||!n.handleEvent)throw i;e.removeEventListener(t,function(e){n.handleEvent.call(n,e)},r)}else"detachEvent"in e&&(typeof n=="object"&&n.handleEvent?e.detachEvent("on"+t,function(){n.handleEvent.call(n)}):e.detachEvent("on"+t,n))}window.MBP=window.MBP||{};MBP.fastButton=function(e,t){this.handler=t;if(e.length&&e.length>1)for(var n in e)this.addClickEvent(e[n]);else this.addClickEvent(e)};MBP.fastButton.prototype.handleEvent=function(e){e=e||window.event;switch(e.type){case"touchstart":this.onTouchStart(e);break;case"touchmove":this.onTouchMove(e);break;case"touchend":this.onClick(e);break;case"click":this.onClick(e)}};MBP.fastButton.prototype.onTouchStart=function(t){var n=t.srcElement;t.stopPropagation();n.addEventListener("touchend",this,!1);e.body.addEventListener("touchmove",this,!1);this.startX=t.touches[0].clientX;this.startY=t.touches[0].clientY;n.style.backgroundColor="rgba(0,0,0,.7)"};MBP.fastButton.prototype.onTouchMove=function(e){(Math.abs(e.touches[0].clientX-this.startX)>10||Math.abs(e.touches[0].clientY-this.startY)>10)&&this.reset(element)};MBP.fastButton.prototype.onClick=function(e){e=e||window.event;var t=e.srcElement;e.stopPropagation&&e.stopPropagation();this.reset(e);this.handler.apply(e.currentTarget,[e]);e.type=="touchend"&&MBP.preventGhostClick(this.startX,this.startY);t.style.backgroundColor=""};MBP.fastButton.prototype.reset=function(t){var r=t.srcElement;n(r,"touchend",this,!1);n(e.body,"touchmove",this,!1);r.style.backgroundColor=""};MBP.fastButton.prototype.addClickEvent=function(e){t(e,"touchstart",this,!1);t(e,"click",this,!1)};MBP.preventGhostClick=function(e,t){MBP.coords.push(e,t);window.setTimeout(function(){MBP.coords.splice(0,2)},2500)};MBP.ghostClickHandler=function(e){if(!MBP.hadTouchEvent&&"ontouchstart"in window){e.stopPropagation();e.preventDefault();return}for(var t=0,n=MBP.coords.length;t<n;t+=2){var r=MBP.coords[t],i=MBP.coords[t+1];if(Math.abs(e.clientX-r)<25&&Math.abs(e.clientY-i)<25){e.stopPropagation();e.preventDefault()}}};e.addEventListener&&e.addEventListener("click",MBP.ghostClickHandler,!0);t(e.documentElement,"touchstart",function(){MBP.hadTouchEvent=!0},!1);MBP.coords=[];MBP.enableActive=function(){e.addEventListener("touchstart",function(){},!1)}})(document);(function(e){function c(){n.setAttribute("content",s);o=!0}function h(){n.setAttribute("content",i);o=!1}function p(t){l=t.accelerationIncludingGravity;u=Math.abs(l.x);a=Math.abs(l.y);f=Math.abs(l.z);!e.orientation&&(u>7||(f>6&&a<8||f<8&&a>6)&&u>5)?o&&h():o||c()}if(!(/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1))return;var t=e.document;if(!t.querySelector)return;var n=t.querySelector("meta[name=viewport]"),r=n&&n.getAttribute("content"),i=r+",maximum-scale=1",s=r+",maximum-scale=10",o=!0,u,a,f,l;if(!n)return;e.addEventListener("orientationchange",c,!1);e.addEventListener("devicemotion",p,!1)})(this);(function(e){var t=e.document;if(!location.hash&&e.addEventListener){window.scrollTo(0,1);var n=1,r=function(){return e.pageYOffset||t.compatMode==="CSS1Compat"&&t.documentElement.scrollTop||t.body.scrollTop||0},i=setInterval(function(){if(t.body){clearInterval(i);n=r();e.scrollTo(0,n===1?0:1)}},15);e.addEventListener("load",function(){setTimeout(function(){r()<20&&e.scrollTo(0,n===1?0:1)},0)})}})(this);$(function(){$(".start-animation").click(function(e){$this=$(this);e.preventDefault();$this.addClass("fade");setTimeout(function(){$this.remove();$(".photos").addClass("animate")},400);setTimeout(function(){$(".photos").addClass("animate-done")},4e3)});$("input, textarea").focus(function(){$(this).parent().parent().addClass("input-focus")});$("input, textarea").blur(function(){$(this).parent().parent().removeClass("input-focus")})});$(window).load(function(){if($("#content").hasClass("about")){var e=function(){var e=$(window).width(),t=$(".blurb-photos").outerHeight(),n=$(".photos-holder").outerHeight(),r=(t-n-30)*.5;if(e>768){$(".blurb-photos").css("height",t);$(".photos-holder").css("margin-top",r).css("margin-bottom",r)}};e()}else if($("#content").hasClass("work-home")){var e=function(){var e=0,t;$(".project p").each(function(){$this=$(this);if($this.outerHeight()>e){t=this;e=$this.outerHeight()}});$(".project p").height(e+"px")};e()}$(window).on("debouncedresize",function(){widthTesterResized=$(window).width();if(widthTester!=widthTesterResized){$(".blurb-photos").attr("style","");$(".photos-holder").attr("style","");$(".project p").attr("style","");setTimeout(function(){e()},350);t();widthTester=widthTesterResized}});var t=function(){$("#content").css("min-height",$(window).height()-258)};t();$("#loading").fadeOut(500,function(){$(this).remove();$("#content").removeClass("loading")})});